/*! @license
 * 
 * SineScroller v.1.0
 *
 * A jQuery Plugin for Wave Scrolling
 * 
 * Author: Mateusz Misiorny
 * 
 * Copyright 2013, Mateusz Misiorny
 * 
 */
var __nativeST__=window.setTimeout,__nativeSI__=window.setInterval;window.setTimeout=function(t,i){var o=this,s=Array.prototype.slice.call(arguments,2);return __nativeST__(t instanceof Function?function(){t.apply(o,s)}:t,i)},window.setInterval=function(t,i){var o=this,s=Array.prototype.slice.call(arguments,2);return __nativeSI__(t instanceof Function?function(){t.apply(o,s)}:t,i)},function(t,i){"use strict";function o(i,o){this.container=t(i),this.options=t.extend({},t.fn.sinescroller.defaults,o)}t.fn.copy_css=function(i,o){var s=t(this);return t.each(i,function(t,i){o.css(i,s.css(i))}),s},t.fn.sinescroller=function(i){return this.each(function(){t.data(this,"plugin_sinescroller")||t.data(this,"plugin_sinescroller",new o(this,i)).init()})},o.prototype.init=function(){var i=this.container,o=t('<canvas id="'+i.attr("id")+'"></canvas>');if(!o.getContext||!o.getContext("2d")){this.font_height=0,this.total_width=0,this.letters=[],this.widths=[],this.twoPI=2*Math.PI,this.height_half=this.container.height()/2+this.options.y_shift;var s=i.text().trim(),n=i.css("color");this.width=i.width(),this.height=i.height();var e=t.map(["font-style","font-variant","font-weight","font-size","font-family"],function(t){return i.css(t)}).join(" ");i.copy_css(["background-image","background-repeat","background-position","background-attachment","opacity","top","right","bottom","left","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","position","display","visibility","z-index","float","clear","background-color"],o),i.hide().after(o),o=o.get(0),this.ctx=o.getContext("2d"),this.ctx.canvas.width=this.width,this.ctx.canvas.height=this.height,this.ctx.font=e,this.ctx.fillStyle=n,this.font_height=this.ctx.measureText("m").width,this.ctx.textBaseline="top";for(var h=0;s.length>h;h++){var a=s.charAt(h),r=this.ctx.measureText(a).width+this.options.letter_spacing;this.total_width+=r,this.widths[h]=r,this.letters[h]=a}null!==this.options.init_position&&this.options.hasOwnProperty("init_position")?this.x_position="center"===this.options.init_position?this.width/2-this.total_width/2:this.options.init_position:(this.x_position=this.width,this.x_position+=2*this.widths[0]),this.x_init_position=this.x_position,this.options.stationary?this.render(this.x_position):this.animate()}},o.prototype.animate=function(){this._animating||(this._animating=!0,this.x_position=this.x_init_position,this.interval=i.setInterval.call(this,this._advance_frame,this.options.frame_delay))},o.prototype.stop=function(){i.clearInterval(this.interval),this._animating=!1},o.prototype._advance_frame=function(){this.render(this.x_position),this.x_position<-this.total_width-this.font_height&&(this.options.loop?(this.x_position=this.x_init_position,this.options.loop_delay>0&&(i.clearInterval(this.interval),i.setTimeout.call(this,this.animate,this.options.loop_delay))):(i.clearInterval(this.interval),this._animating=!1)),this.x_position-=this.options.step},o.prototype.render=function(i){var o,s,n,e,h=this.widths,a=this.height_half,r=this.font_height,l=this.twoPI,p=this.options,c=this.width,d=this.ctx;this.ctx.clearRect(0,0,this.width,this.height),t.each(this.letters,function(t,_){var f=h[t];if(i>c+10)return!0;if(i>2*-f){var g=i+f/2;s=l*(g+p.phase)/p.period,o=a-p.amplitude*Math.sin(s),n=p.amplitude*l*Math.cos(s)/p.period,e=-Math.atan(n),d.translate(g,o),p.rotate&&d.rotate(e),d.translate(-f/2,-r/2),d.fillText(_,0,0)}i+=f,d.setTransform(1,0,0,1,0,0)}),p.phase-=p.phase_shift},t.fn.sinescroller.defaults={frame_delay:15,period:500,amplitude:50,phase:0,loop:!0,loop_delay:0,letter_spacing:0,step:2,rotate:1,phase_shift:0,y_shift:0,stationary:0}}(jQuery,window,document);